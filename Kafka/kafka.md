## 为什么有消息系统
- 解耦合
- 异步处理；例如电商平台，秒杀活动，一般流程为：
  - 风险控制，库存锁定，生成订单，短信通知，更新数据
- 通过消息系统将秒杀活动业务拆分开，将不急需处理的业务放在后面慢慢处理，流程改为：
  - 风险控制，库存锁定，消息系统，生成订单，短信通知，更新数据
- 流量控制
  - 网关在接收到请求后就把请求放入到消息队列里面
  - 后端的服务从消息队列里面获取请求，完成后续的秒杀处理流程，然后再给用户返回结果
  - 优点：控制了流量 缺点：会让流程变慢

## kafka核心概念
- 生产者：producer往kafka集群生产数据
- 消费者：consumer往kafka集群里面去获取数据，处理数据、消费数据kafka的数据是由消费者自己去拉去kafka里面的数据
- 主题：topic
- 分区：partition 默认一个topic有一个分区，自己可以设置多个分区（分区分散存储在服务器不同节点上）